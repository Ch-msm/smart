<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        .box1 {
            width: 300px;
            height: 300px;
            border: 1px solid #ccc;
            background-color: pink;
        }
        .box2 {
            width: 100px;
            height: 100px;
            margin: 100px;
            background-color: skyblue;
        }
    </style>
</head>
<body>

    <div class="box1">
        <div class="box2"></div>
    </div>


    <script>
        //事件冒泡体验：不是冒泡排序；
        var box1 = document.getElementsByClassName("box1")[0];
        var box2 = document.getElementsByClassName("box2")[0];

        //addEventListener();还有第三个参数，控制着事件支持的是冒泡还是捕获；
            //bool有两个：  1.false（默认）支持冒泡；    2.true：支持捕获；
        box1.addEventListener("click", function () {
            alert("我是box1");
        },false);
        box2.addEventListener("click", function () {
            alert("我是box2");
        },false);
        document.addEventListener("click", function () {
            alert("我是document");
        },false);



        //2.捕获阶段；  事件触发从dom树的最顶端，执行到当前触动者；
            //ie678：不支持捕获，只支持冒泡；

      /* box1.addEventListener("click", function () {
           alert("我是box1");
       },true);
       box2.addEventListener("click", function () {
           alert("我是box2");
       },true);
       document.addEventListener("click", function () {
           alert("我是document");
       },true);
*/


        //3.目标阶段： 谁找的事儿；（哪个元素引发的冒泡或者捕获目标阶段就是谁的事件）
            //event.eventPhase: 1.值如果等于1那么处于捕获；  2.值如果等于2处于目标；   3.值如果等于3处于冒泡；
                //一个程序只能存在两个值：要么1和2；要么2和3；
    //    box1.addEventListener("click", function (event) {
    //        alert("我是box1");
    //        console.log(event.eventPhase);//1：捕获阶段；
    //    },true);
    //    box2.addEventListener("click", function (event) {
    //        alert("我是box2");
    //        console.log(event.eventPhase);//2. 目标阶段
    //    },true);
    //    document.addEventListener("click", function (event) {
    //        alert("我是document");
    //        console.log(event.eventPhase);//1：捕获阶段；
    //    },true);



        //整个阶段处于冒泡；只有引发者处于目标阶段；
            //事件引发者；  火狐谷歌ie9+: event.target
            //事件引发者；  ie678      : event.srcElement
                //兼容写法： event.target?event.target:event.srcElement;

       /* box1.addEventListener("click", function (event) {
            alert("我是box1");
            console.log(event.target);
            console.log(event.eventPhase);//1：捕获阶段；
        });
        box2.addEventListener("click", function (event) {
            alert("我是box2");
            console.log(event.target);
            console.log(event.eventPhase);//2. 目标阶段
        });
        document.addEventListener("click", function (event) {
            alert("我是document");
            console.log(event.target);
            console.log(event.eventPhase);//1：捕获阶段；
        });*/


    </script>

</body>
</html>