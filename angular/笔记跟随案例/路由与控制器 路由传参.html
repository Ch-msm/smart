<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body ng-app="myapp">

    <!--初始页-->
    <a href="#!/index">我是首页</a>
    <a href="#!/list">我是列表页</a>

    <div ng-view></div>

    <script src="./node_modules/angular/angular.min.js"></script>
    <script src="./node_modules/angular-route/angular-route.min.js"></script>
    <script>
        angular.module('myapp', ['ngRoute'])     // 模块对象
            //路由
            .config(['$routeProvider', function ($routeProvider) {

                $routeProvider.when('/index', {

                    templateUrl: './dpl/index.html',

                    //控制器写在这里
                    controller: 'indexCtrl'

                }).when('/list', {

                    templateUrl: './dpl/list.html',

                    //控制器写在这里
                    controller: 'listCtrl'
                }).when('/details/:id', {            // 列表页传递给列表详情页的参数方法

                    templateUrl: './dpl/details.html',

                    //控制器写在这里
                    controller: 'detailsCtrl'
                })
            }])
            //首页控制器
            .controller('indexCtrl', ['$scope', function ($scope) {

                $scope.name = '首页';

                //列表页控制器
            }])
            .controller('listCtrl', ['$scope', function ($scope) {

                $scope.name = '列表页';

                $scope.data = [
                    { id: 1, name: '李艳东', age: 18 },
                    { id: 2, name: '李艳影', age: 20 },
                    { id: 3, name: '李艳娟', age: 22 }
                ]

                // 列表详情页控制器
            }])
            .controller('detailsCtrl', ['$scope','$routeParams', function ($scope, $routeParams) {

                $scope.name = '列表详情页';
                // 接受列表页传递过来的数据 也是后去地址栏里的信息方法
               //路由传参和路由与控制器关联
               console.log($routeParams);
               console.log($routeParams.id);
               $scope.id = $routeParams.id;
            }])
    </script>
</body>

</html>